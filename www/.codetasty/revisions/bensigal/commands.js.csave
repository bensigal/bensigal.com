codetasty.revision.2.0
{"ts":1508124809,"restoring":false,"user_id":12307,"patch":[{"diffs":[[1,"var info = {\n    stats: \n        \"STR: Strength. Affects damage dealt with physical weapons, how much you can carry, and the strength of your immune system - the health you recover each room.<br><br>\"+\n        \"SPD: Speed. Affects your dodge and initiative. If it is significantly higher than your opponent, you might get extra actions.<br><br>\"+\n        \"DEX: Dexterity. Affects your dodge and your chance to hit.<br><br>\"+\n        \"CON: Constitution. Affects your health total and your chance to resist effects such as poison.<br><br>\"+\n        \"WIL: Willpower. Affects the efficacy of your spells and your resistance to effects such as magical illusions.<br><br>\"+\n        \"CHA: Charisma. Determines how much mana you have, and how much you recover each room. Also how likely you are to convince NPCs of something.<br><br>\"+\n        \"ANA: Analysis. Determines your crit chance, chance to avoid a crit, initiative, and chance to notice something.\"\n};\ncommands = {\n    help: {\n        description: \"help x<br>Prints description of given command x.<br><br>help<br>Prints list of commands.<br><br>help all<br>Prints all commands with descriptions.\",\n        trigger: function(words){\n            if(!words.length){\n                let result = \"\";\n                console.log(\"BASIC HELP\");\n                for(let key in commands){\n                    result+= key+\" \";\n                }\n                println(result);\n            }\n            else if(words[0] == \"all\"){\n                let result = \"\";\n                for(let key in commands){\n                    result+= \"<p>\"+commands[key].description+\"</p>\";\n                }\n                println(result);\n            }\n            else if(commands[words[0]]){\n                println(\"<p>\"+commands[words[0]].description+\"</p>\");\n            }\n        }\n    },\n    debugchars: {\n        description: \"debugchars x<br>Prints x digits. Used to test viewing screen.\",\n        trigger: function(words){\n            var length = Number(words[0]);\n            var result = \"\";\n            for(var i = 0; i < length; i++){\n                result += (Math.floor(4.6*(Math.sin(i)+1)));\n            }\n            println(result);\n        }\n    },\n    stats:{\n        description: \"stats<br>Prints a list of your stats.<br><br>stats info<br>Prints what the stats affect.\",\n        trigger: function(words){\n            if(words[0]==\"info\"){\n                return println(info.stats);\n            }\n            statAbbreviations.forEach(function(element, index){\n                println(element.toUpperCase()+\": \"+player.stats[index]);\n            });\n        }\n    },\n    traitlist: {\n        description: \"traitlist<br>Prints a list of your traits.\",\n        trigger: function(){\n            player.traits.forEach(function(element){\n                println(span(\"attr\", element.name));\n                println(element.description);\n            });\n        }\n    },\n    look:{\n        description: 'You look around some more.',\n        trigger: function(){\n            println(room.interiorDescription);\n        }\n    }\n\n    \n};\n"]],"start1":0,"start2":0,"length1":0,"length2":3084}],"length":3084}