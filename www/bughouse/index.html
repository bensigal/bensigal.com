<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Bughouse</title>
        <script src="/jquery.min.js"></script>
        <script>
            var seconds;
            var timeStarted;
            $(function(){
                seconds = prompt("Seconds?");
                seconds = Number(seconds);
                if(!(seconds > 0)){
                    location.reload();
                }
                window.requestAnimationFrame(frame);
            });
            function frame(){
                //if(!timeStarted)return;
                var timeLeft = seconds*1000 + timeStarted - new Date().getTime();
                var timeLeftSeconds = timeLeft/1000;
                timeLeftSeconds += "00000";
                timeLeftSeconds = timeLeftSeconds.substring(0, 5);
                if(timeLeft < 0){
                    $("body").css("background-color", "red")
                }
                $("h1").html(timeLeftSeconds);
                window.requestAnimationFrame(frame);
            }
            $(document).keydown(function(e){
                if(e.keyCode == 32){
                    timeLeft = seconds;
                    timeStarted = new Date().getTime();
                    $("body").css("background-color", "white");
                }
            })
        </script>
        <style>
            h1{
                text-align: center;
                padding-top: 100px;
                font-size: 200px;
                font-family: "Ubuntu Mono", monospace;
            }
        </style>
    </head>
    <body>
        <h1></h1>
    </body>
</html>