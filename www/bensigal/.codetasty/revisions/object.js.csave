codetasty.revision.2.0
{"ts":1508207422,"restoring":false,"user_id":12307,"patch":[{"diffs":[[1,"class Item{\n    constructor(description){\n        this.description = description;\n    }\n    onObtain(){\n        \n    }\n    onLoss(){\n        \n    }\n}\nclass BonusItem{\n    \n    constructor(description, property, amount){\n        super(description);\n        this.property = property;\n        this.amount = amount;\n    }\n    onObtain(){\n        super();\n        player[this.property+\"Bonus\"] += this.amount;\n        player.reloadStatBased();\n    }\n    onLoss(){\n        super();\n        player[this.property+\"Bonus\"] -= this.amount;\n    }\n    \n}\nclass MultiBonusItem{\n    \n    constructor(description, properties, amounts){\n        super(description);\n    }\n    onObtain(){\n        super();\n        properties.forEach(function(element, index){\n            player[element+\"Bonus\"] += amounts[index];\n        })\n    }\n    onLoss(){\n        super();\n        properties.forEach(function(element, index){\n            player[element+\"Bonus\"] -= amounts[index];\n        })\n    }\n    \n}\nclass Weapon{\n    constructor(description, toHit, damage, critMultiplier){\n        super(description);\n        this.toHit = toHit;\n        this.damage = damage;\n        this.critMultiplier = critMultiplier;\n    }\n}\n\nvar items = {\n    rustyOldSword: new Weapon(\"This sword is made of rusty wood. It's useless unless you <b>equip</b> it. No hit bonus, no damage bonus, crits deal x2 damage.\", 0, 0, 2),\n    lensLessMonocle: new BonusItem(\"This is a monocle without a lens. +1 to hit, +1 perception.\", [\"hit\", \"perception\"], [1,1]),\n    banana : new BonusItem(\"This a realitively old smelly banana. It is smelly but healthy to hold. -1 Perception, +3 max hp.\", [\"perception\", \"maxHp\"], [-1,3]),\n};"]],"start1":0,"start2":0,"length1":0,"length2":1670}],"length":1670}