codetasty.revision.2.0
{"ts":1508812424,"restoring":false,"user_id":12307,"patch":[{"diffs":[[1,"class Player extends Creature{\n    \n    constructor(){\n        super();\n        this.traits = [];\n    }\n    heal(damage){\n        super.heal(damage);\n        println(\"You healed \"+damage+\" damage!\");\n        this.printCurrentHealth();\n    }\n    damage(amount){\n        super.damage(amount);\n        println(\"You took \"+amount+\" damage!\");\n        this.printCurrentHealth();\n    }\n    printCurrentHealth(){\n        println(\"Current HP: <span class='health'>\"+this.health+\"/\"+this.maxHealth+\"</span>\")\n    }\n    get weapon(){\n        if(this.weapon)return this.weapon;\n        return noWeaponObject;\n    }\n    stat(index){\n        var initialStr = this.stat(\"str\");\n        super.stat(index);\n        if(this.stat(\"str\") != initialStr){\n            inventory.setMaxSize(this.stat(\"str\"))\n        }\n    }\n    \n}\nvar player = new Player();\n\nvar noWeaponObject = {\n    name: \"Bare Hands\",\n    description: \"You are fighting with your bare hands. Unfortunately, these do not function as Bear Hands. No damage bonus, no hit bonus, crits do not multiply damage.\",\n    toHit:0,\n    damage:0,\n    critMultiplier:1\n}\n\nvar inventory = {\n    items: [],\n    maxSize: 10,\n    setMaxSize: function(size){\n        this.maxSize = size;\n        while(this.items.length > size){\n            println(\"Because your maximum inventory size changed, \"+this.items[this.items.length - 1].name+\" fell to the ground!\");\n            floorInventory.push(this.items.pop());\n        }\n    },\n    get: function(index){\n        return this.items[index];\n    },\n    add: function(item){\n        println(item.name + \" was added to your inventory!\");\n        if(this.items.length < this.maxSize){\n            this.items.push(item);\n            item.onObtain();\n        }else{\n            println(item.name + \"However, your inventory is full, so it fell to the ground.\");\n            floorInventory.push(item);\n        }\n    }\n};\n\nvar floorInventory = [];"]],"start1":0,"start2":0,"length1":0,"length2":1916}],"length":1916}
{"ts":1508812426,"restoring":false,"user_id":12307,"patch":[{"diffs":[[0,"(\"str\"))"],[1,";"],[0,"\n       "]],"start1":777,"start2":777,"length1":16,"length2":17}],"length":1917}
{"ts":1508812474,"restoring":false,"user_id":12307,"patch":[{"diffs":[[0,"  stat(index"],[-1,"){"],[1,", value){\n        if(!value)return super.stat(index);"],[0,"\n        var"]],"start1":606,"start2":606,"length1":26,"length2":77}],"length":1968}
{"ts":1508812605,"restoring":false,"user_id":12307,"patch":[{"diffs":[[0,"ex, value){\n"],[1,"        //If you're just getting\n"],[0,"        if(!"]],"start1":616,"start2":616,"length1":24,"length2":57},{"diffs":[[0,"er.stat(index);\n"],[1,"        //If you're setting, record str. If it changes, change the max size of inventory.\n"],[0,"        var init"]],"start1":689,"start2":689,"length1":32,"length2":122}],"length":2091}
{"ts":1508812658,"restoring":false,"user_id":12307,"patch":[{"diffs":[[0,"super.stat(index"],[1,", value"],[0,");\n        if(th"]],"start1":846,"start2":846,"length1":32,"length2":39}],"length":2098}
{"ts":1508812700,"restoring":false,"user_id":12307,"patch":[{"diffs":[[0,"println("],[-1,"item.name + "],[0,"\"However"]],"start1":1932,"start2":1932,"length1":28,"length2":16}],"length":2086}
{"ts":1508812894,"restoring":false,"user_id":12307,"patch":[{"diffs":[[0,"  }\n"],[-1,"    stat(index, value){\n        //If you're just getting\n        if(!value)return super.stat(index);\n        //If you're setting, record str. If it changes, change the max size of inventory.\n        var initialStr = this.stat(\"str\");\n        super.stat(index, value);\n        if(this.stat(\"str\") != initialStr){\n            inventory.setMaxSize(this.stat(\"str\"));\n        }\n    }\n"],[0,"    "]],"start1":600,"start2":600,"length1":388,"length2":8}],"length":1706}
{"ts":1508815209,"restoring":false,"user_id":12307,"patch":[{"diffs":[[0,");\n\n"],[-1,"var noWeaponObject = {\n    name: \"Bare Hands\",\n    description: \"You are fighting with your bare hands. Unfortunately, these do not function as Bear Hands. No damage bonus, no hit bonus, crits do not multiply damage.\",\n    toHit:0,\n    damage:0,\n    critMultiplier:1\n}\n\n"],[0,"var "]],"start1":635,"start2":635,"length1":278,"length2":8}],"length":1436}