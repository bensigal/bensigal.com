codetasty.revision.2.0
{"ts":1508206824,"restoring":false,"user_id":12307,"patch":[{"diffs":[[1,"var info = {\n    stats: \n        \"STR: Strength. Affects damage dealt with physical weapons, how much you can carry, and the strength of your immune system - the health you recover each room.<br><br>\"+\n        \"SPD: Speed. Affects your dodge and initiative. If it is significantly higher than your opponent, you might get extra actions.<br><br>\"+\n        \"DEX: Dexterity. Affects your dodge and your chance to hit.<br><br>\"+\n        \"CON: Constitution. Affects your health total and your chance to resist effects such as poison.<br><br>\"+\n        \"WIL: Willpower. Affects the efficacy of your spells and your resistance to effects such as magical illusions.<br><br>\"+\n        \"CHA: Charisma. Determines how much mana you have, and how much you recover each room. Also how likely you are to convince NPCs of something.<br><br>\"+\n        \"ANA: Analysis. Determines your crit chance, chance to avoid a crit, initiative, and chance to notice something.\"\n};\ncommands = {\n    help: {\n        description: \"help x<br>Prints description of given command x.<br><br>help<br>Prints list of commands.<br><br>help all<br>Prints all commands with descriptions.\",\n        trigger: function(words){\n            if(!words.length){\n                let result = \"\";\n                console.log(\"BASIC HELP\");\n                for(let key in commands){\n                    result+= key+\" \";\n                }\n                println(result);\n            }\n            else if(words[0] == \"all\"){\n                let result = \"\";\n                for(let key in commands){\n                    result+= \"<p>\"+commands[key].description+\"</p>\";\n                }\n                println(result);\n            }\n            else if(commands[words[0]]){\n                println(\"<p>\"+commands[words[0]].description+\"</p>\");\n            }\n        }\n    },\n    debugchars: {\n        description: \"debugchars x<br>Prints x digits. Used to test viewing screen.\",\n        trigger: function(words){\n            var length = Number(words[0]);\n            var result = \"\";\n            for(var i = 0; i < length; i++){\n                result += (Math.floor(4.6*(Math.sin(i)+1)));\n            }\n            println(result);\n        }\n    },\n    stats:{\n        description: \"stats<br>Prints a list of your stats.<br><br>stats info<br>Prints what the stats affect.\",\n        trigger: function(words){\n            if(words[0]==\"info\"){\n                return println(info.stats);\n            }\n            statAbbreviations.forEach(function(element, index){\n                println(element.toUpperCase()+\": \"+player.stats[index]);\n            });\n        }\n    },\n    traitlist: {\n        description: \"traitlist<br>Prints a list of your traits.\",\n        trigger: function(){\n            player.traits.forEach(function(element){\n                println(span(\"attr\", element.name));\n                println(element.description);\n            });\n        }\n    },\n    look:{\n        description: 'You look around some more.',\n        trigger: function(){\n            println(room.interiorDescription);\n        }\n    }\n\n    \n};\nconsole.log(\"MEEP\");"]],"start1":0,"start2":0,"length1":0,"length2":3104}],"length":3104}
{"ts":1508816092,"restoring":false,"user_id":12348,"patch":[{"diffs":[[0,"<br>help"],[1," names"],[0,"<br>Prin"]],"start1":1052,"start2":1052,"length1":16,"length2":22},{"diffs":[[0,"<br>help"],[-1," all"],[0,"<br>Prin"]],"start1":1098,"start2":1098,"length1":20,"length2":16},{"diffs":[[0,"\"\";\n"],[-1,"                console.log(\"BASIC HELP\");\n"],[0,"    "]],"start1":1245,"start2":1245,"length1":51,"length2":8},{"diffs":[[0,"t+= "],[-1,"key+\" "],[1,"\"<p>\"+commands[key].description+\"</p>"],[0,"\";\n "]],"start1":1316,"start2":1316,"length1":14,"length2":45},{"diffs":[[0,"[0] == \""],[-1,"all"],[1,"names"],[0,"\"){\n    "]],"start1":1450,"start2":1450,"length1":19,"length2":21},{"diffs":[[0,"t+= "],[-1,"\"<p>\"+commands[key].description+\"</p>"],[1,"key+\" "],[0,"\";\n "]],"start1":1567,"start2":1567,"length1":45,"length2":14},{"diffs":[[0,"   }\n    },\n"],[1,"    info: {\n        description: \"info &lt;topic&gt;<br>Show info on the given topic. Available topics: stats\",\n        trigger: function(words){\n            if(!words[0]){\n                println(commands.info.description);\n            }else if(info[words[0]]){\n                println(info[words[0]]);\n            }else{\n                println(\"No information on topic &quot;\"+words[0]+\"&quot;. Available topics: stats\");\n            }\n        }\n    },\n"],[0,"    debugcha"]],"start1":1775,"start2":1775,"length1":24,"length2":480},{"diffs":[[0,"   trait"],[-1,"list"],[1,"s"],[0,": {\n    "]],"start1":3041,"start2":3041,"length1":20,"length2":17},{"diffs":[[0,": \"trait"],[-1,"list"],[1,"s"],[0,"<br>Prin"]],"start1":3073,"start2":3073,"length1":20,"length2":17},{"diffs":[[0,"   }\n    },\n"],[1,"    skills: {\n        description: \"skills<br>Prints a list of your skills and their values.\",\n        trigger: function(){\n            for(var key in player.skills){\n                println(camelCaseToWords(key) + \": \"+player.skills[key]);\n            }\n        }\n    },\n"],[0,"    look:{\n "]],"start1":3320,"start2":3320,"length1":24,"length2":296},{"diffs":[[0,"ption: '"],[1,"look<br>"],[0,"You look"]],"start1":3629,"start2":3629,"length1":16,"length2":24},{"diffs":[[0,"   }"],[-1,"\n\n    \n};"],[1,",\n    status:{\n        description: \"status<br>Prints information about your current status.\",\n        trigger: function(){\n            println(generateTable(\n                [\"Health:\", player.health+\"/\"+player.maxHealth, \"Health Regen:\", player.skills.healthRegen, \"Mana:\", player.mana + \"/\" + player.maxMana, \"Mana Regen:\", player.skills.manaRegen]\n            ));\n        }\n    },\n    inventory:{\n        description: \"inventory<br>Lists your items. 'inv' is synonymous.<br>inventory description<br>Lists all your items and their descriptions.<br>inventory &lt;index&lt;<br>Gives a description of the item in your inventory at index &lt;index&gt;\",\n        trigger: function(words){\n            if(!words[0]){\n                inventory.items.forEach(function(element, index){\n                    println(index+\": \"+element.name);\n                });\n            }else if(words[0] == \"description\"){\n                inventory.items.forEach(function(element, index){\n                    println(index+\": \"+element.name+\"<br>\"+element.description);\n                });\n            }else if(words[0].match(/$\\d^/)){\n                var index = Math.floor(Number(words[0]));\n                if(index < 0 || index >= inventory.items.length){\n                    println(\"Invalid index.\");\n                }else{\n                    var item = inventory.get(Number(words[0]));\n                    println(item.name+\"<br>\"+item.description);\n                }\n            }\n        }\n    },\n    health:{\n      printCurrentHealth(){\n        println(\"Current HP: <span class='health'>\"+this.health+\"/\"+this.maxHealth+\"</span>\")\n        }\n    },\n    \n};\ncommands.inv = {\n    description: commands.inventory.description,\n    trigger: commands.inventory.trigger\n},"],[0,"\ncon"]],"start1":3761,"start2":3761,"length1":17,"length2":1763}],"length":5541}
{"ts":1508816564,"restoring":false,"user_id":12307,"patch":[{"diffs":[[0,"    "],[-1,"printCurrentHealth"],[1,"  description:\"\",\n        trigger: function"],[0,"(){\n"]],"start1":5267,"start2":5267,"length1":26,"length2":51},{"diffs":[[0,"    "],[1,"  "],[1,"  player."],[0,"print"],[-1,"ln(\""],[0,"Current"],[-1," HP: <span class='health'>\"+this.health+\"/\"+this.maxHealth+\"</span>\")"],[1,"Health();"],[0,"\n   "]],"start1":5322,"start2":5322,"length1":93,"length2":40}],"length":5513}
{"ts":1508816573,"restoring":false,"user_id":12307,"patch":[{"diffs":[[0,"iption:\""],[1,"Prints your H"],[0,"\",\n     "]],"start1":5278,"start2":5278,"length1":16,"length2":29}],"length":5526}
{"ts":1508816589,"restoring":false,"user_id":12348,"patch":[{"diffs":[[0,"ts your "],[-1,"H"],[1,"current health."],[0,"\",\n     "]],"start1":5290,"start2":5290,"length1":17,"length2":31}],"length":5540}